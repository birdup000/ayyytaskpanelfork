"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_app_utils_notion_ts"],{

/***/ "(app-pages-browser)/./app/utils/notion.ts":
/*!*****************************!*\
  !*** ./app/utils/notion.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteNoteFromNotion: () => (/* binding */ deleteNoteFromNotion),\n/* harmony export */   findNotionPageId: () => (/* binding */ findNotionPageId),\n/* harmony export */   syncNoteWithNotion: () => (/* binding */ syncNoteWithNotion),\n/* harmony export */   syncNotesFromNotion: () => (/* binding */ syncNotesFromNotion)\n/* harmony export */ });\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\nconst deleteNoteFromNotion = async (noteId, param)=>{\n    let { apiKey, clientSecret, refreshToken } = param;\n    // TODO: Replace with actual Notion API implementation\n    if (!apiKey || !clientSecret || !refreshToken) {\n        throw new Error('Notion API key, client secret, or refresh token not configured');\n    }\n    const NOTION_DATABASE_ID = process.env.NEXT_PUBLIC_NOTION_DATABASE_ID;\n    if (!NOTION_DATABASE_ID) {\n        throw new Error('Notion database ID not configured');\n    }\n    try {\n        // First, find the Notion page ID for this note\n        const searchResponse = await fetch(\"https://api.notion.com/v1/databases/\".concat(NOTION_DATABASE_ID, \"/query\"), {\n            method: 'POST',\n            headers: {\n                'Authorization': \"Bearer \".concat(apiKey),\n                'Notion-Version': '2022-06-28',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                filter: {\n                    property: 'note_id',\n                    rich_text: {\n                        equals: noteId\n                    }\n                }\n            })\n        });\n        if (!searchResponse.ok) {\n            throw new Error(\"Failed to find note in Notion: \".concat(searchResponse.statusText));\n        }\n        const searchData = await searchResponse.json();\n        if (searchData.results.length > 0) {\n            const notionPageId = searchData.results[0].id;\n            // Delete the page\n            const deleteResponse = await fetch(\"https://api.notion.com/v1/pages/\".concat(notionPageId), {\n                method: 'DELETE',\n                headers: {\n                    'Authorization': \"Bearer \".concat(apiKey),\n                    'Notion-Version': '2022-06-28'\n                }\n            });\n            if (!deleteResponse.ok) {\n                throw new Error(\"Failed to delete note from Notion: \".concat(deleteResponse.statusText));\n            }\n        }\n    } catch (error) {\n        console.error('Error deleting from Notion:', error);\n        throw error;\n    }\n};\nconst findNotionPageId = async (noteId)=>{\n    var _searchData_results_;\n    const NOTION_API_KEY = process.env.NEXT_PUBLIC_NOTION_API_KEY;\n    const NOTION_DATABASE_ID = process.env.NEXT_PUBLIC_NOTION_DATABASE_ID;\n    if (!NOTION_API_KEY || !NOTION_DATABASE_ID) {\n        throw new Error('Notion API key or database ID not configured');\n    }\n    const searchResponse = await fetch(\"https://api.notion.com/v1/databases/\".concat(NOTION_DATABASE_ID, \"/query\"), {\n        method: 'POST',\n        headers: {\n            'Authorization': \"Bearer \".concat(NOTION_API_KEY),\n            'Notion-Version': '2022-06-28',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n            filter: {\n                property: 'note_id',\n                rich_text: {\n                    equals: noteId\n                }\n            }\n        })\n    });\n    if (!searchResponse.ok) {\n        throw new Error(\"Failed to find note in Notion: \".concat(searchResponse.statusText));\n    }\n    const searchData = await searchResponse.json();\n    return (_searchData_results_ = searchData.results[0]) === null || _searchData_results_ === void 0 ? void 0 : _searchData_results_.id;\n};\nconst syncNotesFromNotion = async (param)=>{\n    let { apiKey, clientSecret, refreshToken } = param;\n    if (!apiKey || !clientSecret || !refreshToken) {\n        throw new Error('Notion API key, client secret, or refresh token not configured');\n    }\n    const NOTION_DATABASE_ID = process.env.NEXT_PUBLIC_NOTION_DATABASE_ID;\n    if (!NOTION_DATABASE_ID) {\n        throw new Error('Notion database ID not configured');\n    }\n    const response = await fetch(\"https://api.notion.com/v1/databases/\".concat(NOTION_DATABASE_ID, \"/query\"), {\n        method: 'POST',\n        headers: {\n            'Authorization': \"Bearer \".concat(apiKey),\n            'Notion-Version': '2022-06-28',\n            'Content-Type': 'application/json'\n        }\n    });\n    if (!response.ok) {\n        throw new Error(\"Failed to fetch notes from Notion: \".concat(response.statusText));\n    }\n    const data = await response.json();\n    return data.results.map((page)=>{\n        var _page_properties_note_id_rich_text_, _page_properties_title_title_;\n        return {\n            id: ((_page_properties_note_id_rich_text_ = page.properties.note_id.rich_text[0]) === null || _page_properties_note_id_rich_text_ === void 0 ? void 0 : _page_properties_note_id_rich_text_.plain_text) || crypto.randomUUID(),\n            title: ((_page_properties_title_title_ = page.properties.title.title[0]) === null || _page_properties_title_title_ === void 0 ? void 0 : _page_properties_title_title_.plain_text) || 'Untitled Note',\n            content: page.properties.content.rich_text.map((text)=>text.plain_text).join('\\n') || '',\n            tags: page.properties.tags.multi_select.map((tag)=>tag.name) || [],\n            createdAt: new Date(page.created_time),\n            updatedAt: new Date(page.last_edited_time)\n        };\n    });\n};\nconst syncNoteWithNotion = async (note, param)=>{\n    let { apiKey, clientSecret, refreshToken } = param;\n    // TODO: Replace with actual Notion API implementation\n    if (!apiKey || !clientSecret || !refreshToken) {\n        throw new Error('Notion API key, client secret, or refresh token not configured');\n    }\n    const NOTION_DATABASE_ID = process.env.NEXT_PUBLIC_NOTION_DATABASE_ID;\n    if (!NOTION_DATABASE_ID) {\n        throw new Error('Notion database ID not configured');\n    }\n    try {\n        // Check if note already exists in Notion\n        const existingPageId = await findNotionPageId(note.id);\n        const endpoint = existingPageId ? \"https://api.notion.com/v1/pages/\".concat(existingPageId) : \"https://api.notion.com/v1/pages\";\n        const response = await fetch(endpoint, {\n            method: existingPageId ? 'PATCH' : 'POST',\n            headers: {\n                'Authorization': \"Bearer \".concat(apiKey),\n                'Notion-Version': '2022-06-28',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                parent: {\n                    database_id: NOTION_DATABASE_ID\n                },\n                properties: {\n                    note_id: {\n                        rich_text: [\n                            {\n                                text: {\n                                    content: note.id\n                                }\n                            }\n                        ]\n                    },\n                    title: {\n                        title: [\n                            {\n                                text: {\n                                    content: note.title\n                                }\n                            }\n                        ]\n                    },\n                    content: {\n                        rich_text: note.content.split('\\n').map((line)=>({\n                                text: {\n                                    content: line\n                                }\n                            }))\n                    },\n                    tags: {\n                        multi_select: note.tags.map((tag)=>({\n                                name: tag\n                            }))\n                    }\n                }\n            })\n        });\n        if (!response.ok) {\n            throw new Error(\"Failed to sync with Notion: \".concat(response.statusText));\n        }\n        return await response.json();\n    } catch (error) {\n        console.error('Error syncing with Notion:', error);\n        throw error;\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RTtvQkFDNUM7b0JBQ0FDLFNBQVM7d0JBQ1AzQixXQUFXd0MsS0FBS2IsT0FBTyxDQUFDa0IsS0FBSyxDQUFDLE1BQU0xQixHQUFHLENBQUMyQixDQUFBQSxPQUFTO2dDQUMvQ2xCLE1BQU07b0NBQUVELFNBQVNtQjtnQ0FBSzs0QkFDeEI7b0JBQ0Y7b0JBQ0FoQixNQUFNO3dCQUNKQyxjQUFjUyxLQUFLVixJQUFJLENBQUNYLEdBQUcsQ0FBQ2EsQ0FBQUEsTUFBUTtnQ0FBRUMsTUFBTUQ7NEJBQUk7b0JBQ2xEO2dCQUNGO1lBQ0Y7UUFDRjtRQUVBLElBQUksQ0FBQ2YsU0FBU2YsRUFBRSxFQUFFO1lBQ2hCLE1BQU0sSUFBSWhCLE1BQU0sK0JBQW1ELE9BQXBCK0IsU0FBU2QsVUFBVTtRQUNwRTtRQUVBLE9BQU8sTUFBTWMsU0FBU1osSUFBSTtJQUM1QixFQUFFLE9BQU9NLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDhCQUE4QkE7UUFDNUMsTUFBTUE7SUFDUjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIi9ob21lL3Byb2plY3QvYXBwL3V0aWxzL25vdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZGVsZXRlTm90ZUZyb21Ob3Rpb24gPSBhc3luYyAobm90ZUlkOiBzdHJpbmcsIHsgYXBpS2V5LCBjbGllbnRTZWNyZXQsIHJlZnJlc2hUb2tlbiB9OiB7IGFwaUtleTogc3RyaW5nLCBjbGllbnRTZWNyZXQ6IHN0cmluZywgcmVmcmVzaFRva2VuOiBzdHJpbmcgfSkgPT4ge1xuICAvLyBUT0RPOiBSZXBsYWNlIHdpdGggYWN0dWFsIE5vdGlvbiBBUEkgaW1wbGVtZW50YXRpb25cbiAgaWYgKCFhcGlLZXkgfHwgIWNsaWVudFNlY3JldCB8fCAhcmVmcmVzaFRva2VuKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3Rpb24gQVBJIGtleSwgY2xpZW50IHNlY3JldCwgb3IgcmVmcmVzaCB0b2tlbiBub3QgY29uZmlndXJlZCcpO1xuICB9XG4gIGNvbnN0IE5PVElPTl9EQVRBQkFTRV9JRCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX05PVElPTl9EQVRBQkFTRV9JRDtcbiAgaWYgKCFOT1RJT05fREFUQUJBU0VfSUQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdGlvbiBkYXRhYmFzZSBJRCBub3QgY29uZmlndXJlZCcpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyBGaXJzdCwgZmluZCB0aGUgTm90aW9uIHBhZ2UgSUQgZm9yIHRoaXMgbm90ZVxuICAgIGNvbnN0IHNlYXJjaFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vYXBpLm5vdGlvbi5jb20vdjEvZGF0YWJhc2VzLyR7Tk9USU9OX0RBVEFCQVNFX0lEfS9xdWVyeWAsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHthcGlLZXl9YCxcbiAgICAgICAgJ05vdGlvbi1WZXJzaW9uJzogJzIwMjItMDYtMjgnLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgZmlsdGVyOiB7XG4gICAgICAgICAgcHJvcGVydHk6ICdub3RlX2lkJyxcbiAgICAgICAgICByaWNoX3RleHQ6IHtcbiAgICAgICAgICAgIGVxdWFsczogbm90ZUlkXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pO1xuXG4gICAgaWYgKCFzZWFyY2hSZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmluZCBub3RlIGluIE5vdGlvbjogJHtzZWFyY2hSZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgIH1cblxuICAgIGNvbnN0IHNlYXJjaERhdGEgPSBhd2FpdCBzZWFyY2hSZXNwb25zZS5qc29uKCk7XG4gICAgaWYgKHNlYXJjaERhdGEucmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBub3Rpb25QYWdlSWQgPSBzZWFyY2hEYXRhLnJlc3VsdHNbMF0uaWQ7XG4gICAgICBcbiAgICAgIC8vIERlbGV0ZSB0aGUgcGFnZVxuICAgICAgY29uc3QgZGVsZXRlUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkubm90aW9uLmNvbS92MS9wYWdlcy8ke25vdGlvblBhZ2VJZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHthcGlLZXl9YCxcbiAgICAgICAgICAnTm90aW9uLVZlcnNpb24nOiAnMjAyMi0wNi0yOCcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFkZWxldGVSZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBkZWxldGUgbm90ZSBmcm9tIE5vdGlvbjogJHtkZWxldGVSZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBmcm9tIE5vdGlvbjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBmaW5kTm90aW9uUGFnZUlkID0gYXN5bmMgKG5vdGVJZDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IE5PVElPTl9BUElfS0VZID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfTk9USU9OX0FQSV9LRVk7XG4gIGNvbnN0IE5PVElPTl9EQVRBQkFTRV9JRCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX05PVElPTl9EQVRBQkFTRV9JRDtcblxuICBpZiAoIU5PVElPTl9BUElfS0VZIHx8ICFOT1RJT05fREFUQUJBU0VfSUQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdGlvbiBBUEkga2V5IG9yIGRhdGFiYXNlIElEIG5vdCBjb25maWd1cmVkJyk7XG4gIH1cblxuICBjb25zdCBzZWFyY2hSZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovL2FwaS5ub3Rpb24uY29tL3YxL2RhdGFiYXNlcy8ke05PVElPTl9EQVRBQkFTRV9JRH0vcXVlcnlgLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7Tk9USU9OX0FQSV9LRVl9YCxcbiAgICAgICdOb3Rpb24tVmVyc2lvbic6ICcyMDIyLTA2LTI4JyxcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBmaWx0ZXI6IHtcbiAgICAgICAgcHJvcGVydHk6ICdub3RlX2lkJyxcbiAgICAgICAgcmljaF90ZXh0OiB7XG4gICAgICAgICAgZXF1YWxzOiBub3RlSWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH0pO1xuXG4gIGlmICghc2VhcmNoUmVzcG9uc2Uub2spIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmaW5kIG5vdGUgaW4gTm90aW9uOiAke3NlYXJjaFJlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gIH1cblxuICBjb25zdCBzZWFyY2hEYXRhID0gYXdhaXQgc2VhcmNoUmVzcG9uc2UuanNvbigpO1xuICByZXR1cm4gc2VhcmNoRGF0YS5yZXN1bHRzWzBdPy5pZDtcbn07XG5cbmludGVyZmFjZSBOb3Rpb25QYWdlIHtcbiAgcHJvcGVydGllczoge1xuICAgIG5vdGVfaWQ6IHsgcmljaF90ZXh0OiBbeyBwbGFpbl90ZXh0OiBzdHJpbmcgfV0gfTtcbiAgICB0aXRsZTogeyB0aXRsZTogW3sgcGxhaW5fdGV4dDogc3RyaW5nIH1dIH07XG4gICAgY29udGVudDogeyByaWNoX3RleHQ6IFt7IHBsYWluX3RleHQ6IHN0cmluZyB9XSB9O1xuICAgIHRhZ3M6IHsgbXVsdGlfc2VsZWN0OiBbeyBuYW1lOiBzdHJpbmcgfV0gfTtcbiAgfTtcbiAgY3JlYXRlZF90aW1lOiBzdHJpbmc7XG4gIGxhc3RfZWRpdGVkX3RpbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IHN5bmNOb3Rlc0Zyb21Ob3Rpb24gPSBhc3luYyAoeyBhcGlLZXksIGNsaWVudFNlY3JldCwgcmVmcmVzaFRva2VuIH06IHsgYXBpS2V5OiBzdHJpbmcsIGNsaWVudFNlY3JldDogc3RyaW5nLCByZWZyZXNoVG9rZW46IHN0cmluZyB9KSA9PiB7XG4gIGlmICghYXBpS2V5IHx8ICFjbGllbnRTZWNyZXQgfHwgIXJlZnJlc2hUb2tlbikge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90aW9uIEFQSSBrZXksIGNsaWVudCBzZWNyZXQsIG9yIHJlZnJlc2ggdG9rZW4gbm90IGNvbmZpZ3VyZWQnKTtcbiAgfVxuICBjb25zdCBOT1RJT05fREFUQUJBU0VfSUQgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19OT1RJT05fREFUQUJBU0VfSUQ7XG4gICAgaWYgKCFOT1RJT05fREFUQUJBU0VfSUQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdGlvbiBkYXRhYmFzZSBJRCBub3QgY29uZmlndXJlZCcpO1xuICB9XG5cblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovL2FwaS5ub3Rpb24uY29tL3YxL2RhdGFiYXNlcy8ke05PVElPTl9EQVRBQkFTRV9JRH0vcXVlcnlgLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7YXBpS2V5fWAsXG4gICAgICAnTm90aW9uLVZlcnNpb24nOiAnMjAyMi0wNi0yOCcsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIG5vdGVzIGZyb20gTm90aW9uOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gIH1cblxuICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICByZXR1cm4gZGF0YS5yZXN1bHRzLm1hcCgocGFnZTogTm90aW9uUGFnZSkgPT4gKHtcbiAgICBpZDogcGFnZS5wcm9wZXJ0aWVzLm5vdGVfaWQucmljaF90ZXh0WzBdPy5wbGFpbl90ZXh0IHx8IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgdGl0bGU6IHBhZ2UucHJvcGVydGllcy50aXRsZS50aXRsZVswXT8ucGxhaW5fdGV4dCB8fCAnVW50aXRsZWQgTm90ZScsXG4gICAgY29udGVudDogcGFnZS5wcm9wZXJ0aWVzLmNvbnRlbnQucmljaF90ZXh0Lm1hcCh0ZXh0ID0+IHRleHQucGxhaW5fdGV4dCkuam9pbignXFxuJykgfHwgJycsXG4gICAgdGFnczogcGFnZS5wcm9wZXJ0aWVzLnRhZ3MubXVsdGlfc2VsZWN0Lm1hcCh0YWcgPT4gdGFnLm5hbWUpIHx8IFtdLFxuICAgIGNyZWF0ZWRBdDogbmV3IERhdGUocGFnZS5jcmVhdGVkX3RpbWUpLFxuICAgIHVwZGF0ZWRBdDogbmV3IERhdGUocGFnZS5sYXN0X2VkaXRlZF90aW1lKVxuICB9KSk7XG59O1xuXG5leHBvcnQgY29uc3Qgc3luY05vdGVXaXRoTm90aW9uID0gYXN5bmMgKG5vdGU6IHtcbiAgaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xuICB0YWdzOiBzdHJpbmdbXTtcbn0sIHsgYXBpS2V5LCBjbGllbnRTZWNyZXQsIHJlZnJlc2hUb2tlbiB9OiB7IGFwaUtleTogc3RyaW5nLCBjbGllbnRTZWNyZXQ6IHN0cmluZywgcmVmcmVzaFRva2VuOiBzdHJpbmcgfSkgPT4ge1xuICAvLyBUT0RPOiBSZXBsYWNlIHdpdGggYWN0dWFsIE5vdGlvbiBBUEkgaW1wbGVtZW50YXRpb25cbiAgaWYgKCFhcGlLZXkgfHwgIWNsaWVudFNlY3JldCB8fCAhcmVmcmVzaFRva2VuKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3Rpb24gQVBJIGtleSwgY2xpZW50IHNlY3JldCwgb3IgcmVmcmVzaCB0b2tlbiBub3QgY29uZmlndXJlZCcpO1xuICB9XG4gIGNvbnN0IE5PVElPTl9EQVRBQkFTRV9JRCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX05PVElPTl9EQVRBQkFTRV9JRDtcbiAgICBpZiAoIU5PVElPTl9EQVRBQkFTRV9JRCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90aW9uIGRhdGFiYXNlIElEIG5vdCBjb25maWd1cmVkJyk7XG4gIH1cblxuICB0cnkge1xuICAgIC8vIENoZWNrIGlmIG5vdGUgYWxyZWFkeSBleGlzdHMgaW4gTm90aW9uXG4gICAgY29uc3QgZXhpc3RpbmdQYWdlSWQgPSBhd2FpdCBmaW5kTm90aW9uUGFnZUlkKG5vdGUuaWQpO1xuICAgIFxuICAgIGNvbnN0IGVuZHBvaW50ID0gZXhpc3RpbmdQYWdlSWQgXG4gICAgICA/IGBodHRwczovL2FwaS5ub3Rpb24uY29tL3YxL3BhZ2VzLyR7ZXhpc3RpbmdQYWdlSWR9YFxuICAgICAgOiBgaHR0cHM6Ly9hcGkubm90aW9uLmNvbS92MS9wYWdlc2A7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGVuZHBvaW50LCB7XG4gICAgICBtZXRob2Q6IGV4aXN0aW5nUGFnZUlkID8gJ1BBVENIJyA6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7YXBpS2V5fWAsXG4gICAgICAgICdOb3Rpb24tVmVyc2lvbic6ICcyMDIyLTA2LTI4JyxcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHBhcmVudDogeyBkYXRhYmFzZV9pZDogTk9USU9OX0RBVEFCQVNFX0lEIH0sXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBub3RlX2lkOiB7XG4gICAgICAgICAgICByaWNoX3RleHQ6IFt7IHRleHQ6IHsgY29udGVudDogbm90ZS5pZCB9IH1dXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgdGl0bGU6IFt7IHRleHQ6IHsgY29udGVudDogbm90ZS50aXRsZSB9IH1dXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgICByaWNoX3RleHQ6IG5vdGUuY29udGVudC5zcGxpdCgnXFxuJykubWFwKGxpbmUgPT4gKHtcbiAgICAgICAgICAgICAgdGV4dDogeyBjb250ZW50OiBsaW5lIH1cbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdGFnczoge1xuICAgICAgICAgICAgbXVsdGlfc2VsZWN0OiBub3RlLnRhZ3MubWFwKHRhZyA9PiAoeyBuYW1lOiB0YWcgfSkpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc3luYyB3aXRoIE5vdGlvbjogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc3luY2luZyB3aXRoIE5vdGlvbjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG4iXSwibmFtZXMiOlsiZGVsZXRlTm90ZUZyb21Ob3Rpb24iLCJub3RlSWQiLCJhcGlLZXkiLCJjbGllbnRTZWNyZXQiLCJyZWZyZXNoVG9rZW4iLCJFcnJvciIsIk5PVElPTl9EQVRBQkFTRV9JRCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19OT1RJT05fREFUQUJBU0VfSUQiLCJzZWFyY2hSZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZmlsdGVyIiwicHJvcGVydHkiLCJyaWNoX3RleHQiLCJlcXVhbHMiLCJvayIsInN0YXR1c1RleHQiLCJzZWFyY2hEYXRhIiwianNvbiIsInJlc3VsdHMiLCJsZW5ndGgiLCJub3Rpb25QYWdlSWQiLCJpZCIsImRlbGV0ZVJlc3BvbnNlIiwiZXJyb3IiLCJjb25zb2xlIiwiZmluZE5vdGlvblBhZ2VJZCIsIk5PVElPTl9BUElfS0VZIiwiTkVYVF9QVUJMSUNfTk9USU9OX0FQSV9LRVkiLCJzeW5jTm90ZXNGcm9tTm90aW9uIiwicmVzcG9uc2UiLCJkYXRhIiwibWFwIiwicGFnZSIsInByb3BlcnRpZXMiLCJub3RlX2lkIiwicGxhaW5fdGV4dCIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJ0aXRsZSIsImNvbnRlbnQiLCJ0ZXh0Iiwiam9pbiIsInRhZ3MiLCJtdWx0aV9zZWxlY3QiLCJ0YWciLCJuYW1lIiwiY3JlYXRlZEF0IiwiRGF0ZSIsImNyZWF0ZWRfdGltZSIsInVwZGF0ZWRBdCIsImxhc3RfZWRpdGVkX3RpbWUiLCJzeW5jTm90ZVdpdGhOb3Rpb24iLCJub3RlIiwiZXhpc3RpbmdQYWdlSWQiLCJlbmRwb2ludCIsInBhcmVudCIsImRhdGFiYXNlX2lkIiwic3BsaXQiLCJsaW5lIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/utils/notion.ts\n"));

/***/ })

}]);